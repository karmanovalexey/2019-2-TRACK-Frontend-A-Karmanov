{"version":3,"sources":["styles/chat.module.css","styles/list.module.css","styles/profile.module.css","assets/user.svg","assets/search.svg","assets/edit.svg","assets/back.svg","assets/menu_list.svg","assets/more.svg","assets/paper-plane.svg","assets/attachment.svg","assets/geo.svg","assets/audio.svg","assets/stop.svg","assets/tick.svg","ListComponents/ListHeader.js","ListComponents/ChatFormat.js","ListComponents/ListContent.js","ListComponents/ChatList.js","ConversationComponents/ConvHeader.js","ConversationComponents/InputForm.js","ConversationComponents/MessageForm.js","ConversationComponents/ConvWindow.js","ProfileComponents/Profile.js","containers/MessengerContainer.js","index.js"],"names":["module","exports","ListHeader","className","styles","chatlisthead","burger","burgericon","src","alt","to","interlocutor","interlocutor_icon","user","header","search","searchicon","ChatFormat","props","id","chatform","chatbutton","profile","name_message","name","companionName","message","time_status","time","status","chatsArrayKey","ListContent","chatCount","useState","setTimeout","ScrollChat","current","scrollTop","storageChatArray","JSON","parse","localStorage","getItem","chatsInitArray","length","chatElemProps","getChatProps","push","key","indicator","lastmessageText","lastmessageTime","onClickFunc","InitChats","chats","setChats","React","createRef","chatObj","companion","openChatFunc","chatlistcontent","ref","createchat","onClick","prompt","messages","scrollIntoView","concat","addChat","setItem","stringify","chatToLocal","createchaticon","create","ChatList","chat_list","ConvHeader","conv_head","top_line","back","back_icon","interlocutor_info","interlocutor_name","interlocutor_time","search_icon","more","more_icon","InputForm","form_input","line_block","type","onChange","value","onDragOver","onDrop","onDragEnter","event","target","style","background","stopPropagation","preventDefault","onDragLeave","buttons","attach","onAudioStart","display","audioStatus","micDisplay","attach_icon","audio","onAudioStop","stopDisplay","stop","onGeo","geo","accept","htmlFor","attachment","send","onSend","send_icon","MessageForm","displayAudio","audio_src","message_form","bubble","text","messageText","img_src","width","controls","messageTime","imgUrl","audioUrl","Mb","ConvWindow","chatId","useParams","lastMessageId","messageCount","mediaRecorder","useRef","inputValue","setInputValue","storageMessageArray","messagesInitArray","messageElemProps","getMessageProps","document","getElementById","setMessages","fileSent","setFileSent","audioShown","setAudioShown","handleFile","file","window","URL","createObjectURL","data","FormData","append","size","fetch","method","body","alert","messageObj","Date","toTimeString","slice","handleCreateMessage","addMessage","messageToLocal","revokeObjectURL","preventAndStop","conv_window","onKeyPress","message_container","position","top","left","height","backgroundColor","borderRadius","a","async","constraints","navigator","mediaDevices","getUserMedia","stream","MediaRecorder","start","getMedia","chunks","addEventListener","ev","blob","Blob","mimeType","dataTransfer","files","geolocation","getCurrentPosition","coords","latitude","longitude","userId","Profile","changedUser","username","bio","UserInit","setUser","editButton","edit","setEditMode","headbutton","tickButton","usernameChanger","nameChanger","bioChanger","edit_icon","tick","tempUser","userObj","usernameViewer","nameViewer","bioViewer","tick_icon","placeholder","editMode","profile_manager","profile_content","photo","photo_icon","full_name","MessengerContainer","path","Component","history","createBrowserHistory","ReactDOM","render"],"mappings":"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","file":"static/js/main.611fee9f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"conv_window\":\"chat_conv_window__2KrEG\",\"message_container\":\"chat_message_container__12Tb4\",\"message_form\":\"chat_message_form__2zrqE\",\"add-message-animation\":\"chat_add-message-animation__3b0RX\",\"form_input\":\"chat_form_input__1oRac\",\"conv_head\":\"chat_conv_head__3v4WA\",\"top_line\":\"chat_top_line___yO2U\",\"back\":\"chat_back__3-jXj\",\"back_icon\":\"chat_back_icon__3Xove\",\"interlocutor\":\"chat_interlocutor__1DPq6\",\"interlocutor_icon\":\"chat_interlocutor_icon__1UN3y\",\"interlocutor_info\":\"chat_interlocutor_info__2P35c\",\"interlocutor_name\":\"chat_interlocutor_name__175_3\",\"interlocutor_time\":\"chat_interlocutor_time__2t_4A\",\"search\":\"chat_search__12bYd\",\"search_icon\":\"chat_search_icon__2c3cg\",\"more\":\"chat_more__NpJjx\",\"more_icon\":\"chat_more_icon__nG_HT\",\"bubble\":\"chat_bubble__fNeuv\",\"text\":\"chat_text__dtU1A\",\"time\":\"chat_time__37g3P\",\"line_block\":\"chat_line_block__1ivE7\",\"buttons\":\"chat_buttons__raaGI\",\"attach\":\"chat_attach__37eQ6\",\"attach_icon\":\"chat_attach_icon__1Kzy1\",\"send\":\"chat_send__N3tDE\",\"send_icon\":\"chat_send_icon__1y5Jt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatform\":\"list_chatform__2CSIC\",\"createchat\":\"list_createchat__3E231\",\"createchaticon\":\"list_createchaticon__2sioQ\",\"chatbutton\":\"list_chatbutton__1GtBd\",\"profile\":\"list_profile__2pgWw\",\"name_message\":\"list_name_message__khKnN\",\"name\":\"list_name__tU3qg\",\"message\":\"list_message__ztDQ5\",\"time_status\":\"list_time_status__3vdLJ\",\"time\":\"list_time__3V7Rv\",\"search\":\"list_search__1HPTR\",\"searchicon\":\"list_searchicon__2h3jC\",\"burger\":\"list_burger__3tE8H\",\"burgericon\":\"list_burgericon__1WWd7\",\"header\":\"list_header__1G5Fm\",\"interlocutor\":\"list_interlocutor__cKKhI\",\"interlocutor_icon\":\"list_interlocutor_icon__3zwI7\",\"chatlisthead\":\"list_chatlisthead__BZ4Ab\",\"chatlistcontent\":\"list_chatlistcontent__2BXlX\",\"chat_list\":\"list_chat_list__20i0s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"edit\":\"profile_edit__20ox6\",\"edit_icon\":\"profile_edit_icon__2VK_A\",\"tick\":\"profile_tick__rFpWo\",\"tick_icon\":\"profile_tick_icon__3okf0\",\"profile_manager\":\"profile_profile_manager__1QI-P\",\"top_line\":\"profile_top_line__31QDg\",\"back\":\"profile_back__1NT9K\",\"back_icon\":\"profile_back_icon__3XONf\",\"profile_content\":\"profile_profile_content__3cWVo\",\"photo\":\"profile_photo__3pnAS\",\"photo_icon\":\"profile_photo_icon__2u4D4\",\"full_name\":\"profile_full_name__2t0Vw\",\"nameViewer\":\"profile_nameViewer__3wKvF\",\"username\":\"profile_username__3AvhX\",\"usernameViewer\":\"profile_usernameViewer__17v2N\",\"bio\":\"profile_bio__mkayb\",\"bioViewer\":\"profile_bioViewer__2Tzdw\"};","module.exports = __webpack_public_path__ + \"static/media/user.36bad004.svg\";","module.exports = __webpack_public_path__ + \"static/media/search.9c5fa42b.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit.1b81f274.svg\";","module.exports = __webpack_public_path__ + \"static/media/back.dd28c577.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu_list.c98ab14f.svg\";","module.exports = __webpack_public_path__ + \"static/media/more.cc6a05bc.svg\";","module.exports = __webpack_public_path__ + \"static/media/paper-plane.67b680c2.svg\";","module.exports = __webpack_public_path__ + \"static/media/attachment.79ae74dd.svg\";","module.exports = __webpack_public_path__ + \"static/media/geo.f57da586.svg\";","module.exports = __webpack_public_path__ + \"static/media/audio.2af06a61.svg\";","module.exports = __webpack_public_path__ + \"static/media/stop.43b68a51.svg\";","module.exports = __webpack_public_path__ + \"static/media/tick.4f7c9356.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from '../styles/list.module.css';\nimport burger from '../assets/menu_list.svg';\nimport search from '../assets/search.svg';\nimport user from '../assets/user.svg';\n\nfunction ListHeader() {\n\treturn (\n\t\t<div className={ styles.chatlisthead }>\n\t\t\t<button className={ styles.burger }>\n\t\t\t\t<img className={ styles.burgericon } src={ burger } alt=\"menu\"/>\n\t\t\t</button>\n\t\t\t<Link to=\"/profile\" className={ styles.interlocutor }>\n\t\t\t\t<img className={ styles.interlocutor_icon } src={ user } alt=\"interlocutor\"/>\n\t\t\t</Link>\n\t\t\t<div className={ styles.header}>\n\t\t\t\tChats\n\t\t\t</div>\n\t\t\t<button className={ styles.search }>\n\t\t\t\t<img className={ styles.searchicon } src={ search } alt=\"search\"/>\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nexport default ListHeader;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from '../styles/list.module.css';\n\nfunction ChatFormat(props) {\n\t\n\treturn(\n\t\t<Link to={`/chat_id=${ props.id }`} className={ styles.chatform }>\n\t\t\t<div className={ styles.chatbutton } >\n\t\t\t\t<button className={ styles.profile }/>\n\t\t\t\t<div className={ styles.name_message } >\n\t\t\t\t\t<div className={ styles.name } >\n\t\t\t\t\t\t{ props.companionName }\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={ styles.message }>\n\t\t\t\t\t\t{ props.message }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={ styles.time_status }>\n\t\t\t\t\t<div className={ styles.time }>\n\t\t\t\t\t\t{ props.time }\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={ styles.status }>\n\t\t\t\t\t\t!\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Link>\n\t);\n}\n\nexport default ChatFormat;","import React, { useState } from 'react';\nimport ChatFormat from './ChatFormat';\nimport styles from '../styles/list.module.css';\nimport create from '../assets/edit.svg';\n\nconst chatsArrayKey = 'Chats';\n\nfunction ListContent(props) {\n\tlet chatCount = 0;\n\tconst [chats, setChats] = useState(InitChats());\n\tconst ScrollChat = React.createRef();\n\n\tfunction getChatProps(chatObj) {\n\t\tconst lastmessageText = '';\n\t\tconst lastmessageTime = '';\n\t\tconst indicator = 0;\n\t\tconst chatElemProps = {\n\t\t\tkey: chatCount,\n\t\t\tid: chatCount,\n\t\t\tindicator,\n\t\t\tlastmessageText,\n\t\t\tlastmessageTime,\n\t\t\tcompanionName: chatObj.companion,\n\t\t\tonClickFunc: props.openChatFunc,\n\t\t};\n\n\t\treturn chatElemProps;\n\t}\n\n\tfunction InitChats() {\n\t\tsetTimeout(() => {\n\t\t\tScrollChat.current.scrollTop = 9999;\n\t\t}, 0);\n\t\tconst storageChatArray = JSON.parse(localStorage.getItem(chatsArrayKey));\n\t\tif (storageChatArray !== null) {\n\t\t\tconst chatsInitArray = [];\n\t\t\tfor (; chatCount < storageChatArray.length; chatCount += 1) {\n\t\t\t\tconst chatElemProps = getChatProps(storageChatArray[chatCount]);\n\n\t\t\t\tchatsInitArray.push(\n\t\t\t\t\t<ChatFormat\n\t\t\t\t\t\tkey={chatElemProps.key}\n\t\t\t\t\t\tid={chatElemProps.id}\n\t\t\t\t\t\tindicator={chatElemProps.indicator}\n\t\t\t\t\t\tlastmessageText={chatElemProps.lastmessageText}\n\t\t\t\t\t\tlastmessageTime={chatElemProps.lastmessageTime}\n\t\t\t\t\t\tcompanionName={chatElemProps.companionName}\n\t\t\t\t\t\tonClickFunc={chatElemProps.onClickFunc}\n\t\t\t\t\t/>,\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn chatsInitArray;\n\t\t}\n\t\treturn [];\n\t}\n\n\tfunction handleCreateChat() {\n\t\tconst name = prompt('Enter name');\n\t\tconst chatObj = {\n\t\t\tid: chatCount,\n\t\t\tcompanion: name,\n\t\t\tmessages: [],\n\t\t};\n\t\taddChat(chatObj);\n\t\tchatToLocal(chatObj);\n\t\tchatCount += 1;\n\t}\n\n\tfunction addChat(chatObj) {\n\t\tconst chatElemProps = getChatProps(chatObj);\n\t\tScrollChat.current.scrollIntoView();\n\t\tsetChats(\n\t\t\tchats.concat(\n\t\t\t\t<ChatFormat\n\t\t\t\t\tkey={chatElemProps.key}\n\t\t\t\t\tid={chatElemProps.id}\n\t\t\t\t\tindicator={chatElemProps.indicator}\n\t\t\t\t\tlastmessageText={chatElemProps.lastmessageText}\n\t\t\t\t\tlastmessageTime={chatElemProps.lastmessageTime}\n\t\t\t\t\tcompanionName={chatElemProps.companionName}\n\t\t\t\t\tonClickFunc={chatElemProps.onClickFunc}\n\t\t\t\t/>,\n\t\t\t),\n\t\t);\n\t}\n\n\tfunction chatToLocal(chatObj) {\n\t\tlet storageChatArray = JSON.parse(localStorage.getItem(chatsArrayKey));\n\t\tif (storageChatArray === null) {\n\t\t\tstorageChatArray = [];\n\t\t}\n\t\tstorageChatArray.push(chatObj);\n\t\tlocalStorage.setItem(chatsArrayKey, JSON.stringify(storageChatArray));\n\t}\n\n\treturn (\n\t\t<div className={styles.chatlistcontent} ref={ScrollChat}>\n\t\t\t<button className={styles.createchat} onClick={handleCreateChat}>\n\t\t\t\t<img className={styles.createchaticon} src={create} alt=\"create\" />\n\t\t\t</button>\n\t\t\t{ chats }\n\t\t</div>\n\t);\n}\n\nexport default ListContent;\n","import React from 'react';\nimport styles from '../styles/list.module.css';\nimport ListHeader from './ListHeader';\nimport ListContent from './ListContent';\n\nfunction ChatList(props) {\n\treturn (\n\t\t<div className={ styles.chat_list }>\n\t\t\t<ListHeader />\n\t\t\t<ListContent />\n\t\t</div>\n\t);\n}\n\nexport default ChatList;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from '../styles/chat.module.css';\nimport back from '../assets/back.svg';\nimport user from '../assets/user.svg';\nimport search from '../assets/search.svg';\nimport more from '../assets/more.svg';\n\nfunction ConvHeader(){\n\treturn (\n\t\t<div className={ styles.conv_head }>\n\t\t\t<div className={ styles.top_line }>\n\t\t\t\t<Link to=\"/\" className={ styles.back }>\n\t\t\t\t\t<img className={ styles.back_icon } src={ back } alt=\"back\"/>\n\t\t\t\t</Link>\n\t\t\t\t<div className={ styles.interlocutor }>\n\t\t\t\t\t<img className={ styles.interlocutor_icon } src={ user } alt=\"user\"/>\n\t\t\t\t\t<div className={ styles.interlocutor_info }>\n\t\t\t\t\t\t<div className={ styles.interlocutor_name }>\n\t\t\t\t\t\t\tName\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={ styles.interlocutor_time }>\n\t\t\t\t\t\t\tlast seen 2 hours ago\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button className={ styles.search }>\n\t\t\t\t\t<img className={ styles.search_icon } src={ search } alt=\"search\"/>\n\t\t\t\t</button>\n\t\t\t\t<button className={ styles.more }>\n\t\t\t\t\t<img className={ styles.more_icon } src={ more } alt=\"more\"/>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default ConvHeader;\n","import React from 'react';\nimport styles from '../styles/chat.module.css';\nimport send from '../assets/paper-plane.svg';\nimport attachment from '../assets/attachment.svg';\nimport geo from '../assets/geo.svg';\nimport audio from '../assets/audio.svg';\nimport stop from '../assets/stop.svg';\n\nfunction InputForm(props){\n\n\tfunction handleDrag(event){\n\t\tevent.target.style.background = 'darkolivegreen';\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t}\n\n\tfunction handleLeave(event){\n\t\tevent.target.style.background = '';\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t}\n\n\treturn (\n\t\t<div className= { styles.form_input } >\n\t\t\t<div className={ styles.line_block }>\n\t\t\t\t<input type=\"text\" onChange={ props.onChange } value={ props.value } id=\"fileList\" onDragOver={props.onDragOver} onDrop={props.onDrop} onDragEnter={ handleDrag } onDragLeave={ handleLeave }/>\n\t\t\t\t<div className={ styles.buttons }>\n\t\t\t\t\t<button className={ styles.attach } onClick={ props.onAudioStart } id=\"audio\" style={{ display: props.audioStatus.micDisplay }}>\n\t\t\t\t\t\t<img className={ styles.attach_icon } src={ audio } alt=\"audio\" />\n\t\t\t\t\t</button>\n\t\t\t\t\t<button className={ styles.attach } onClick={ props.onAudioStop } style={{ display: props.audioStatus.stopDisplay }}>\n\t\t\t\t\t\t<img className={ styles.attach_icon } src={ stop } alt=\"stop\" />\n\t\t\t\t\t</button>\n\t\t\t\t\t<button className={ styles.attach } onClick={ props.onGeo }>\n\t\t\t\t\t\t<img className={ styles.attach_icon } src={ geo } alt=\"geo\" />\n\t\t\t\t\t</button>\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype=\"file\" \n\t\t\t\t\t\tid=\"fileElem\"\n\t\t\t\t\t\taccept=\"image/*\" \n\t\t\t\t\t\tstyle={{display: 'none'}}\n\t\t\t\t\t\tonChange={props.onChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor=\"fileElem\">\n\t\t\t\t\t\t<button className={ styles.attach } >\n\t\t\t\t\t\t\t<label htmlFor=\"fileElem\">\n\t\t\t\t\t\t\t\t<img className={ styles.attach_icon } src={ attachment } alt=\"attach\"/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</label>\n\t\t\t\t\t<button className={ styles.send } onClick={ props.onSend }>\n\t\t\t\t\t\t<img className={ styles.send_icon } src={ send } alt=\"send\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default InputForm;","import React from 'react';\nimport styles from '../styles/chat.module.css';\n\nfunction MessageForm(props) {\n\tlet displayAudio = 'none';\n\tif(props.audio_src !== ''){\n\t\tdisplayAudio = 'flex';\n\t}\n\treturn(\n\t\t<div className={ styles.message_form} id={props.id}>\n\t\t\t<div className={ styles.bubble }>\n\t\t\t\t<div className={ styles.text } >\n\t\t\t\t\t{ props.messageText }\n\t\t\t\t\t<img src={props.img_src} alt='' width=\"100%\" />\n\t\t\t\t\t<audio src={props.audio_src} alt='' width=\"100%\" controls style={{display: displayAudio}}/>\n\t\t\t\t</div>\n\t\t\t\t<div className={ styles.time }>{ props.messageTime }</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default MessageForm;\n","import React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport styles from '../styles/chat.module.css';\nimport ConvHeader from './ConvHeader';\nimport InputForm from './InputForm';\nimport MessageForm from './MessageForm';\n\nlet imgUrl = '';\nlet audioUrl = '';\nconst Mb = 1024*1024;\n\nfunction ConvWindow(props) {\n\tconst { chatId } = useParams();\n\tlet lastMessageId = 0;\n\tlet messageCount = 0;\n\tconst mediaRecorder = React.useRef(null);\n\tconst [inputValue, setInputValue] = useState('');\n\tconst [messages, setMessages] = useState(InitChats());\n\tconst [fileSent, setFileSent] = useState(InitFileSent());\n\tconst [audioShown, setAudioShown] = useState(InitAudioShown());\n\n\tfunction InitAudioShown(){\n\t\treturn ({\n\t\t\tmicDisplay: 'flex',\n\t\t\tstopDisplay: 'none'\n\t\t});\n\t}\n\tfunction InitFileSent() {\n\t\treturn ({\n\t\t\tdisplay: 'none'\n\t\t});\n\t}\n\n\tfunction handleFile(file) {\n\t\timgUrl = window.URL.createObjectURL(file);\n\t\tif(imgUrl!== '') {\n\t\t\tsetFileSent({display: 'inline'});\n\t\t\tconst data = new FormData();\n\t\t\tdata.append('file', file);\n\t\t\tdata.append('chat_id', chatId);\n\t\t\tif(file.size < 4*Mb) {\n\t\t\t\tfetch('https://tt-front.now.sh/upload', {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tbody: data,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\talert('File`s size must be less than 4 Mb');\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleChange(event) {\n\t\tif(event.target.type === 'file') {\n\t\t\thandleFile(event.target.files[0]);\n\t\t\tevent.target.value = '';\n\t\t} else {\n\t\t\tsetInputValue(event.target.value);\n\t\t}\n\t}\n\n\tfunction getMessageProps(messageObj) {\n\t\tconst messageElemProps = {\n\t\t\timg_src: messageObj.img_src,\n\t\t\taudio_src: messageObj.audio_src,\n\t\t\tkey: messageCount,\n\t\t\tid: messageCount,\n\t\t\tmessageText: messageObj.messageText,\n\t\t\tmessageTime: new Date(messageObj.messageTime).toTimeString().slice(0, 5),\n\t\t\tcompanionName: messageObj.companion,\n\t\t};\n\t\treturn messageElemProps;\n\t}\n\n\tfunction InitChats(){\n\t\tconst storageMessageArray = JSON.parse(localStorage.getItem(chatId));\n\t\tif (storageMessageArray !== null) {\n\t\t\tconst messagesInitArray = [];\n\t\t\tfor (; messageCount < storageMessageArray.length; messageCount += 1) {\n\t\t\t\tconst messageElemProps = getMessageProps(storageMessageArray[messageCount]);\n\t\t\t\tmessagesInitArray.push(\n\t\t\t\t\t<MessageForm\n\t\t\t\t\t\timg_src={messageElemProps.img_src}\n\t\t\t\t\t\taudio_src= {messageElemProps.audio_src}\n\t\t\t\t\t\tkey={messageElemProps.key}\n\t\t\t\t\t\tid={messageElemProps.id}\n\t\t\t\t\t\tmessageText={messageElemProps.messageText}\n\t\t\t\t\t\tmessageTime={messageElemProps.messageTime}\n\t\t\t\t\t\tcompanionName={messageElemProps.companionName}\n\t\t\t\t\t/>,\n\t\t\t\t);\n\t\t\t\tif (messageCount === storageMessageArray.length - 1){\n\t\t\t\t\tlastMessageId = messageCount;\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetTimeout(() => {\n\t\t\t\tdocument.getElementById(lastMessageId).scrollIntoView();\n\t\t\t}, 0);\n\t\t\treturn messagesInitArray;\n\t\t}\n\t\treturn [];\n\t}\n\n\tfunction handleCreateMessage(){\n\t\tif (inputValue!=='' || imgUrl!=='' || audioUrl!=='') {\n\t\t\tconst messageObj = {\n\t\t\t\timg_src: imgUrl,\n\t\t\t\taudio_src: audioUrl,\n\t\t\t\tkey: messageCount,\n\t\t\t\tcompanion: props.companionName,\n\t\t\t\tmessageText: inputValue,\n\t\t\t\tmessageTime: new Date(),\n\t\t\t};\n\t\t\taddMessage(messageObj);\n\t\t\tmessageToLocal(messageObj);\n\t\t\tmessageCount += 1;\n\t\t\tsetInputValue('');\n\t\t\tsetFileSent({display: 'none'});\n\t\t\timgUrl = '';\n\t\t\taudioUrl = '';\n\t\t\twindow.URL.revokeObjectURL(imgUrl);\n\t\t}\n\t}\n\n\tfunction addMessage(messageObj){\n\t\tconst messageElemProps = getMessageProps(messageObj);\n\t\tsetMessages(\n\t\t\tmessages.concat(\n\t\t\t\t<MessageForm\n\t\t\t\t\timg_src={messageElemProps.img_src}\n\t\t\t\t\taudio_src= {messageElemProps.audio_src}\n\t\t\t\t\tkey={messageElemProps.key}\n\t\t\t\t\tid={messageElemProps.id}\n\t\t\t\t\tmessageText={messageElemProps.messageText}\n\t\t\t\t\tmessageTime={messageElemProps.messageTime}\n\t\t\t\t\tcompanionName={messageElemProps.companionName}\n\t\t\t\t/>,\n\t\t\t),\n\t\t);\n\t}\n\n\tfunction messageToLocal(messageObj) {\n\t\tlet storageMessageArray = JSON.parse(localStorage.getItem(chatId));\n\t\tif (storageMessageArray === null) {\n\t\t\tstorageMessageArray = [];\n\t\t}\n\t\tstorageMessageArray.push(messageObj);\n\t\tlocalStorage.setItem(+chatId, JSON.stringify(storageMessageArray));\n\t}\n\n\tfunction handleKeyPress(event) {\n\t\tif(event.key === 'Enter') {\n\t\t\thandleCreateMessage();\n\t\t}\n\t}\n\n\tfunction handleGeo(event) {\n\t\tif('geolocation' in navigator){\n\t\t\tnavigator.geolocation.getCurrentPosition((position) => {\n\t\t\t\tsetInputValue(`https://www.openstreetmap.org/#map=18/${position.coords.latitude}/${position.coords.longitude}`);\n\t\t\t});\n\t\t} else {\n\t\t\talert('Geolocation is not available in your browser');\n\t\t}\n\t}\n\n\tconst preventAndStop = (event) => {\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t};\n\n\tconst drop = (event) => {\n\t\tpreventAndStop(event);\n\t\tconst file = event.dataTransfer.files[0];\n\t\thandleFile(file);\n\t\tevent.target.style.backgroundColor = '';\n\t};\n\n\tasync function getMedia() {\n\t\ttry {\n\t\t\tconst constraints = { audio: true };\n\t\t\tconst stream = await navigator.mediaDevices.getUserMedia(constraints);\n\t\t\tmediaRecorder.current = new MediaRecorder(stream);\n\t\t\tmediaRecorder.current.start();\n\t\t} catch(err) {\n\t\t\talert('Failed to get audio');\n\t\t}\n\t}\n\n\tfunction handleRecordingStart(event){\n\t\tsetAudioShown({\n\t\t\tmicDisplay: 'none',\n\t\t\tstopDisplay: 'flex'\n\t\t});\n\t\tgetMedia();\n\t}\n\n\tfunction handleRecordingStop(event){\n\t\tsetAudioShown({\n\t\t\tmicDisplay: 'flex',\n\t\t\tstopDisplay: 'none'\n\t\t});\n\t\tmediaRecorder.current.stop();\n\t\tlet chunks = [];\n\t\tmediaRecorder.current.addEventListener('stop', (ev) => {\n\t\t\tconst blob = new Blob(chunks, { type: mediaRecorder.mimeType });\n\t\t\tchunks = [];\n\t\t\taudioUrl = URL.createObjectURL(blob);\n\t\t\thandleCreateMessage();\n\t\t});\n\t\tmediaRecorder.current.addEventListener('dataavailable', (ev) => {\n\t\t\tchunks.push(event.data);\n\t\t});\n\t}\n\treturn (\n\t\t<div className={styles.conv_window} onKeyPress={ handleKeyPress }>\n\t\t\t<ConvHeader />\n\t\t\t<div className={ styles.message_container }>\n\t\t\t\t{ messages }\n\t\t\t</div>\n\t\t\t<span style={{\n\t\t\t\tdisplay: fileSent.display,\n\t\t\t\tposition: 'fixed',\n\t\t\t\ttop: 'calc(100% - 49px)',\n\t\t\t\tleft: 'calc(100% - 106px)',\n\t\t\t\theight: '5px',\n\t\t\t\twidth: '5px',\n\t\t\t\tbackgroundColor: 'rgb(24, 58, 55)',\n\t\t\t\tborderRadius: '100%'\n\t\t\t}}/>\n\t\t\t<InputForm audioStatus={ audioShown } onAudioStart={handleRecordingStart} onAudioStop={handleRecordingStop} onDragOver={ preventAndStop } onDrop={ drop }  onChange={ handleChange } value={ inputValue } onSend={ handleCreateMessage } onGeo={ handleGeo }/>\n\t\t</div>\n\t);\n}\n\nexport default ConvWindow;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from '../styles/profile.module.css';\nimport back from '../assets/back.svg';\nimport edit from '../assets/edit.svg';\nimport tick from '../assets/tick.svg';\nimport interlocutor from '../assets/user.svg';\n\nconst userId = 'UserId';\n\nfunction Profile(props) {\n\n\tconst [user, setUser] = useState(UserInit());\n\n\tfunction UserInit() {\n\t\tconst changedUser = JSON.parse(localStorage.getItem(userId));\n\t\tif (changedUser !== null) {\n\t\t\treturn {\n\t\t\t\tname : changedUser.name,\n\t\t\t\tusername : changedUser.username,\n\t\t\t\tbio : changedUser.bio,\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\tname : '',\n\t\t\tusername : '',\n\t\t\tbio : '',\n\t\t};\n\t}\n\n\tconst name = React.createRef();\n\tconst username = React.createRef();\n\tconst bio = React.createRef();\n\n\tconst editButton = <button className={ styles.edit } onClick={ ToggleEditMode }>\n\t\t<img className={ styles.edit_icon } src={ edit } alt=\"edit\"/>\n\t</button>;\n\tconst tickButton = <button className={ styles.tick } onClick={ ToggleViewMode }>\n\t\t<img className={ styles.tick_icon } src={ tick } alt=\"tick\"/>\n\t</button>;\n\n\tconst nameViewer = (value) => { return (<div className={styles.nameViewer}>\n\t\t{ value }\n\t</div>); };\n\tconst usernameViewer = (value) => { return (<div className={styles.usernameViewer}>\n\t\t{ value }\n\t</div>); };\n\tconst bioViewer = (value) => { return (<div className={styles.bioViewer}>\n\t\t{ value }\n\t</div>); };\n\n\tconst usernameChanger = <input placeholder=\"Username\" ref={ username }/>;\n\tconst bioChanger = <input placeholder=\"Biography\" ref={ bio }/>;\n\tconst nameChanger = <input placeholder=\"Full Name\" ref={ name }/>;\n\n\tconst [editMode, setEditMode] = useState(Init());\n\n\tfunction Init() {\n\t\treturn({\n\t\t\tedit: false, \n\t\t\theadbutton: editButton,\n\t\t\tusername: usernameViewer(user.username) ,\n\t\t\tname: nameViewer(user.name),\n\t\t\tbio: bioViewer(user.bio),\n\t\t});\n\t}\n\n\tfunction ToggleEditMode(){\n\t\tsetEditMode({\n\t\t\tedit: true,\n\t\t\theadbutton: tickButton,\n\t\t\tusername: usernameChanger,\n\t\t\tname: nameChanger,\n\t\t\tbio: bioChanger,\n\t\t});\n\t}\n\n\tfunction ToggleViewMode(){\n\t\tconst tempUser = {\n\t\t\tname: name.current.value,\n\t\t\tusername: username.current.value,\n\t\t\tbio: bio.current.value,\n\t\t};\n\t\tUserToLocal(tempUser);\n\t\tsetUser(tempUser);\n\t\tsetEditMode({\n\t\t\tedit: false, \n\t\t\theadbutton: editButton,\n\t\t\tusername: usernameViewer(tempUser.username),\n\t\t\tname: nameViewer(tempUser.name),\n\t\t\tbio: bioViewer(tempUser.bio),\n\t\t});\n\t}\n\n\tfunction UserToLocal(userObj) {\n\t\tlocalStorage.setItem(userId, JSON.stringify(userObj));\n\t}\n\n\treturn (\n\t\t<div className={ styles.profile_manager}>\n\t\t\t<div className={ styles.top_line }>\n\t\t\t\t<Link to=\"/\" className={ styles.back }>\n\t\t\t\t\t<img className={ styles.back_icon } src={ back } alt=\"back\"/>\n\t\t\t\t</Link>\n\t\t\t\t{ editMode.headbutton }\n\t\t\t</div>\n\t\t\t<div className={ styles.profile_content }>\n\t\t\t\t<div className={ styles.photo }>\n\t\t\t\t\t<img className={ styles.photo_icon } src={ interlocutor } alt=\"profile_photo\"/>\n\t\t\t\t</div>\n\t\t\t\t<div className={ styles.full_name }>\n\t\t\t\t\t{ editMode.name }\n\t\t\t\t</div>\n\t\t\t\t<div className={ styles.username }>\n\t\t\t\t\t{ editMode.username }\n\t\t\t\t</div>\n\t\t\t\t<div className={ styles.bio }>\n\t\t\t\t\t{ editMode.bio }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Profile;\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport ChatList from '../ListComponents/ChatList';\nimport ConvWindow from '../ConversationComponents/ConvWindow';\nimport Profile from '../ProfileComponents/Profile';\n\nexport default class MessengerContainer extends React.Component {\n\trender() {\n\t\treturn(\n\t\t\t<Router>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/chat_id=:chatId\">\n\t\t\t\t\t\t<ConvWindow/>\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/profile\">\n\t\t\t\t\t\t<Profile/>\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t\t<ChatList/>\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t); \n\t}\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\nimport MessengerContainer from './containers/MessengerContainer.js'\nimport './styles/globalStyles.css';\n\nexport const history = createBrowserHistory();\n\nReactDOM.render(\n  <Router history={history}>\n    <MessengerContainer />\n  </Router>,\n\tdocument.getElementById('root'),\n);"],"sourceRoot":""}